<!DOCTYPE html>
<html lang="km">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ប្រវត្តិអ្នកជំងឺ</title>
        <link href="../assets/img/logo1.png" rel="icon" />


    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="../assets/css/patient-dashboard.css" />
  </head>
  <body>
    <!-- Overlay -->
    <div id="overlay" class="overlay" onclick="toggleSidebar()"></div>

    <!-- Sidebar toggle button -->
    <button class="sidebar-toggle" onclick="toggleSidebar()">
      <i class="bi bi-list"></i>
    </button>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
      <h2>គ្លីនិក​</h2>
      <div>
        <a href="../pages/appointment-flow.html"
          ><i class="bi bi-people"></i> ការណាត់ជួប</a
        >
        <a href="../pages/profile-user.html" class="active"
          ><i class="bi bi-person-circle"></i> ពត៌មានគណនី</a
        >
        <a href="../pages/medical-history.html"
          ><i class="bi bi-clipboard-heart"></i> ប្រវត្តិពិនិត្យ</a
        >
        <a href="../pages/notification.html"
          ><i class="bi bi-bell"></i> សារ / ជូនដំណឹង</a
        >
        <a href="../pages/logout.html"
          ><i class="bi bi-box-arrow-right"></i> ចាកចេញ</a
        >
      </div>
      <div class="upgrade">
        <p>ធ្វើការកែលម្អទៅ PRO</p>
        <button>UPDATE TO PRO</button>
      </div>
    </div>

    <!-- Main content -->
    <div class="main">
      <div class="main-header">
        <h2>ប្រវត្តិអ្នកជំងឺ</h2>
        <div class="mt-2 mt-md-0">
          <button
            class="btn-edit me-2"
            data-bs-toggle="modal"
            data-bs-target="#editProfileModal"
          >
            កែប្រែ
          </button>

          <button class="btn-edit">បោះពុម្ព</button>
        </div>
      </div>

      <!-- Profile Card -->
      <div class="profile-card">
        <img src="../assets/img/user.png" alt="Profile Image" />
        <div class="profile-info">
          <h3>សម្បត្តិ</h3>
          <p>+38 (093) 23 45 678 | katepro@gmail.com</p>
        </div>
      </div>

      <!-- Info Cards -->
      <div class="row">
        <div class="col-md-6">
          <div class="card-section">
            <h5>ព័ត៌មានទូទៅ </h5>
            <div class="info-row">
              <div class="info-item">
                <span class="label">ថ្ងៃកំណើត:</span>
                <span class="value">23.07.1994</span>
              </div>
              <div class="info-item">
                <span class="label">អាសយដ្ឋាន:</span>
                <span class="value">Lviv, ផ្លូវ Chornovola, 67</span>
              </div>
              <div class="info-item">
                <span class="label">ថ្ងៃចុះបញ្ជី:</span>
                <span class="value">ថ្ងៃព្រហស្បតិ៍ 25 ឧសភា</span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card-section">
            <h5>
              ប្រវត្តិជំងឺ </button>
            </h5>
            <div class="info-row">
              <div class="info-item">
                <span class="label">អាល្លែហ្ស៊ី:</span>
                <span class="value">ពោត, ផ្កាឈូក</span>
              </div>
              <div class="info-item">
                <span class="label">ជំងឺប្រចាំកាយ:</span>
                <span class="value">រោគសួត</span>
              </div>
              <div class="info-item">
                <span class="label">ប្រភេទឈាម:</span>
                <span class="value">I+</span>
              </div>
              <div class="info-item">
                <span class="label">ការឆ្លងកាលពីមុន:</span>
                <span class="value">វីរុសកូរ៉ូណា</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Future Visits -->
      <div class="card-section">
        <h5>ការណាត់ជួបអនាគត</h5>
        <div class="table-responsive">
          <table class="visits-table">
            <thead>
              <tr>
                <th>ថ្ងៃ និងម៉ោង</th>
                <th>សេវាកម្ម</th>
                <th>វេជ្ជបណ្ឌិត</th>
                <th>ស្ថានភាព</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>26 កញ្ញា 2023, 11:00-12:30</td>
                <td>ការព្យាបាល និងការសំអាតបំពង់ធ្មេញ</td>
                <td>Oksana Ma...</td>
                <td><span class="badge-scheduled">បានកំណត់</span></td>
              </tr>
              <tr>
                <td>27 កញ្ញា 2023, 11:00-12:30</td>
                <td>សម្អាតធ្មេញស្អាត</td>
                <td>Max Oched...</td>
                <td><span class="badge-scheduled">បានកំណត់</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
<!-- Files and Notes -->
<div class="row">
  <!-- Files Section -->
  <div class="col-md-6">
    <div class="card-section">
      <h5>ឯកសារ</h5>
      <ul class="list-group">
        <li class="list-group-item d-flex justify-content-between align-items-center">
          Check Up Result.pdf (123kb)
          <a href="../assets/files/CheckUpResult.pdf" download class="btn btn-sm btn-primary">
            ទាញយក
          </a>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          Medical Prescriptions.pdf (123kb)
          <a href="../assets/files/MedicalPrescriptions.pdf" download class="btn btn-sm btn-primary">
            ទាញយក
          </a>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          Blood Test Result.pdf (123kb)
          <a href="../assets/files/BloodTestResult.pdf" download class="btn btn-sm btn-primary">
            ទាញយក
          </a>
        </li>
      </ul>
    </div>
  </div>

  <!-- Notes Section -->
  <div class="col-md-6">
    <div class="card-section">
      <h5>កំណត់សំគាល់</h5>
      <ul class="list-group">
        <li class="list-group-item d-flex justify-content-between align-items-center">
          Note 31.06.23.pdf
          <a href="../assets/files/Note_31_06_23.pdf" download class="btn btn-sm btn-secondary">
            ទាញយក
          </a>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          Note 23.06.23.pdf
          <a href="../assets/files/Note_23_06_23.pdf" download class="btn btn-sm btn-secondary">
            ទាញយក
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>

    </div>
    <!-- Edit Modal -->
    <!-- Edit Profile Modal -->
    <div class="modal fade" id="editProfileModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header bg-primary text-white">
            <h5 class="modal-title">កែប្រែព័ត៌មាន</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <form id="editForm">
              <h6>ព័ត៌មានទូទៅ</h6>
              <div class="mb-3">
                <label class="form-label">ឈ្មោះ</label>
                <input
                  type="text"
                  class="form-control"
                  id="editName"
                  value="សម្បត្តិ"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">ទូរស័ព្ទ / អ៊ីមែល</label>
                <input
                  type="text"
                  class="form-control"
                  id="editContact"
                  value="+38 (093) 23 45 678 | katepro@gmail.com"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">អាសយដ្ឋាន</label>
                <input
                  type="text"
                  class="form-control"
                  id="editAddress"
                  value="Lviv, ផ្លូវ Chornovola, 67"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">ថ្ងៃកំណើត</label>
                <input
                  type="date"
                  class="form-control"
                  id="editDOB"
                  value="1994-07-23"
                />
              </div>

              <hr />
              <h6>ប្រវត្តិជំងឺ</h6>
              <div class="mb-3">
                <label class="form-label">អាល្លែហ្ស៊ី</label>
                <input
                  type="text"
                  class="form-control"
                  id="editAllergy"
                  value="ពោត, ផ្កាឈូក"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">ជំងឺប្រចាំកាយ</label>
                <input
                  type="text"
                  class="form-control"
                  id="editChronic"
                  value="រោគសួត"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">ប្រភេទឈាម</label>
                <input
                  type="text"
                  class="form-control"
                  id="editBlood"
                  value="I+"
                />
              </div>
              <div class="mb-3">
                <label class="form-label">ការឆ្លងកាលពីមុន</label>
                <input
                  type="text"
                  class="form-control"
                  id="editPastDisease"
                  value="វីរុសកូរ៉ូណា"
                />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" data-bs-dismiss="modal">
              បិទ
            </button>
            <button class="btn btn-primary" onclick="saveEdit()">
              រក្សាទុក
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Sidebar toggle
      function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        const overlay = document.getElementById("overlay");
        sidebar.classList.toggle("show");
        overlay.classList.toggle("show");
      }

      // Save modal info
      function saveEdit() {
        const form = document.getElementById("editForm");
        const inputs = form.querySelectorAll("input");

        // Example: update profile card dynamically
        document.querySelector(".profile-info h3").textContent =
          inputs[0].value;
        document.querySelector(".profile-info p").textContent = inputs[1].value;

        // Close modal safely
        const modalEl = document.getElementById("editProfileModal");
        const modal = bootstrap.Modal.getOrCreateInstance(modalEl);
        modal.hide();

        alert(`ព័ត៌មានបានរក្សាទុក: ${inputs[0].value}`);
      }
    </script>
  </body>
</html>
